(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[1203],{11137:function(e,t,r){Promise.resolve().then(r.bind(r,21922)),Promise.resolve().then(r.bind(r,60526)),Promise.resolve().then(r.bind(r,83509)),Promise.resolve().then(r.bind(r,86215)),Promise.resolve().then(r.t.bind(r,94181,23)),Promise.resolve().then(r.t.bind(r,7523,23)),Promise.resolve().then(r.t.bind(r,56502,23)),Promise.resolve().then(r.bind(r,2400)),Promise.resolve().then(r.bind(r,91497)),Promise.resolve().then(r.bind(r,9458)),Promise.resolve().then(r.bind(r,69776)),Promise.resolve().then(r.bind(r,16575)),Promise.resolve().then(r.bind(r,30591)),Promise.resolve().then(r.bind(r,16391)),Promise.resolve().then(r.bind(r,90093)),Promise.resolve().then(r.bind(r,35160)),Promise.resolve().then(r.bind(r,60612)),Promise.resolve().then(r.bind(r,93597)),Promise.resolve().then(r.bind(r,6025))},21654:function(e,t,r){"use strict";r.d(t,{T:function(){return n}});var s=r(61462),a=r(36446);r(70265);let n=()=>(0,s.jsxs)(a.rU,{href:"/",className:"font-normal flex space-x-2 items-center text-sm mr-4  text-black px-2 py-1  relative z-20",children:[(0,s.jsx)("img",{src:"/logo.png",alt:"Proactiv",className:"h-8 w-8"}),(0,s.jsx)("span",{className:"text-white text-xs sm:text-base font-bold",children:"AI Song Generator"})]})},2400:function(e,t,r){"use strict";r.d(t,{LoginModal:function(){return c}});var s=r(61462),a=r(41437),n=r(9107),i=r(16391),l=r(98855),o=r(41473);function c(){let{closeModal:e,modalState:t}=(0,i.d)();return(0,s.jsx)(l.M,{children:t.login&&(0,s.jsx)(o.E.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",onClick:()=>e("login"),children:(0,s.jsxs)("div",{className:"bg-black rounded-lg shadow-xl overflow-hidden w-full max-w-4xl flex flex-col md:flex-row",onClick:e=>e.stopPropagation(),children:[(0,s.jsx)("div",{className:"hidden md:block w-full md:w-1/2 relative",children:(0,s.jsx)("img",{src:"/logo800*800.webp",alt:"Decorative",className:"w-full h-full object-cover"})}),(0,s.jsxs)("div",{className:"w-full md:w-1/2 p-6 md:p-8 relative",children:[(0,s.jsx)("button",{onClick:()=>e("login"),className:"absolute top-4 right-4",children:(0,s.jsx)(a.Z,{size:24})}),(0,s.jsx)("div",{className:"space-y-6",children:(0,s.jsx)(n.Register,{})})]})]})})})}},91497:function(e,t,r){"use strict";r.d(t,{default:function(){return p}});var s=r(61462),a=r(70265),n=r(98855),i=r(41473),l=r(29555),o=r(93597),c=r(52750),u=r(16391),d=r(29369),m=r(49600),x=r(36446),f=r(97711),h=r(41437);function p(){let{modalState:e,closeModal:t}=(0,u.d)(),{user:r}=(0,a.useContext)(o.S);return r?(0,s.jsx)(n.M,{children:e.payproPortal&&(0,s.jsx)("div",{onClick:()=>t("payproPortal"),className:"fixed inset-0 z-50 flex cursor-pointer items-center justify-center overflow-y-auto p-2 sm:p-4 backdrop-blur",children:(0,s.jsx)(i.E.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1,transition:{type:"spring",bounce:.25}},exit:{scale:.9,opacity:0},onClick:e=>e.stopPropagation(),className:(0,f.cn)("relative cursor-default overflow-y-auto rounded-xl bg-black text-white shadow-2xl","w-full max-w-md sm:max-w-lg md:max-w-xl lg:max-w-2xl"),children:(0,s.jsxs)("div",{className:"flex flex-col h-full max-h-[90vh]",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between p-4 border-b border-gray-800",children:[(0,s.jsx)("h2",{className:"text-xl sm:text-2xl font-bold text-center",children:"Subscription Management"}),(0,s.jsx)("button",{onClick:()=>t("payproPortal"),className:"text-gray-400 hover:text-gray-200 rounded-full transition-colors",children:(0,s.jsx)(h.Z,{className:"w-6 h-6"})})]}),(0,s.jsxs)("div",{className:"flex-grow overflow-y-auto p-4",children:[!r.has_access&&(0,s.jsx)(g,{}),r.has_access&&!r.subscription_id&&(0,s.jsx)(b,{}),r.has_access&&r.subscription_id&&(0,s.jsx)(y,{user:r})]})]})})})}):null}function g(){return(0,s.jsxs)("div",{className:"text-center space-y-4",children:[(0,s.jsx)("h3",{className:"text-xl font-semibold text-gray-200",children:"No Active Subscription"}),(0,s.jsx)("p",{className:"text-gray-400",children:"You currently don't have an active subscription. Subscribe to a plan to access all features."}),(0,s.jsx)(x.rU,{href:"/pricing",className:"inline-block px-6 py-2 bg-white text-black rounded-lg hover:bg-gray-200 transition-colors",children:"View Pricing Plans"})]})}function b(){return(0,s.jsxs)("div",{className:"text-center space-y-4",children:[(0,s.jsx)("h3",{className:"text-xl font-semibold text-gray-200",children:"Subscription Information Missing"}),(0,s.jsx)("p",{className:"text-gray-400",children:"We detected that you have an active subscription, but some information is missing in our system. Please contact our support team for assistance."}),(0,s.jsx)("a",{href:"mailto:".concat(d.Z.links.email),className:"inline-block px-6 py-2 bg-white text-black rounded-lg hover:bg-gray-200 transition-colors",children:"Contact Support"}),(0,s.jsx)("p",{className:"text-sm text-gray-400",children:d.Z.links.email})]})}let v=[{id:"1",text:"The price is too high"},{id:"2",text:"I no longer need this product"},{id:"3",text:"I am not satisfied with the product"},{id:"4",text:"I switched to another product"},{id:"5",text:"It isn't a priority right now"},{id:"6",text:"I subscribed by mistake"},{id:"8",text:"I am switching to another subscription plan"}];function y(e){let{user:t}=e,[r,n]=(0,a.useState)(!1),[i,o]=(0,a.useState)(null),[d,x]=(0,a.useState)(!1),[f,h]=(0,a.useState)(""),[p,g]=(0,a.useState)(""),b=(0,c.useRouter)(),{closeModal:y}=(0,u.d)(),w=(0,a.useCallback)(async()=>{n(!0);try{let e=await fetch("/api/paypro/subscription/details",{method:"POST",body:JSON.stringify({subscriptionId:t.subscription_id})});if(!e.ok){let t=await e.json();m.Am.error(t.error);return}let r=await e.json();o(r.response)}catch(e){console.error(e)}finally{n(!1)}},[t.subscription_id]),j=async()=>{if(f){n(!0);try{let e=await fetch("/api/paypro/subscription/suspend",{method:"POST",body:JSON.stringify({subscriptionId:t.subscription_id,reasonId:f})});if(!e.ok){let t=await e.json();m.Am.error(t.error);return}(await e.json()).isSuccess&&(x(!1),await w())}catch(e){console.error("Error canceling subscription:",e)}finally{n(!1)}}},N=async()=>{n(!0);try{let e=await fetch("/api/paypro/subscription/renew",{method:"POST",body:JSON.stringify({subscriptionId:t.subscription_id,reasonText:p||"Reactivated by user"})});if(!e.ok){let t=await e.json();m.Am.error(t.error);return}(await e.json()).isSuccess&&(g(""),await w())}catch(e){console.error("Error reactivating subscription:",e)}finally{n(!1)}};return(0,a.useEffect)(()=>{w()},[t.subscription_id,w]),(0,s.jsx)("div",{className:"space-y-6",children:(0,s.jsxs)("div",{className:"bg-gray-900 rounded-lg p-4 space-y-4",children:[(0,s.jsxs)("div",{className:"flex justify-between items-center border-b border-gray-800 pb-3",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("h3",{className:"text-xl font-semibold text-white",children:"Subscription Status"}),(0,s.jsx)("p",{className:"text-gray-200",children:(null==i?void 0:i.status)==="Active"?"Active":"Inactive"})]}),(0,s.jsxs)("div",{className:"text-right",children:[(0,s.jsx)("p",{className:"text-sm text-gray-200",children:"Created On"}),(0,s.jsx)("p",{className:"text-white font-medium",children:(null==i?void 0:i.createdAt)?new Date(i.createdAt).toLocaleDateString():"N/A"})]})]}),(0,s.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"text-sm text-gray-200",children:"Next Payment"}),(0,s.jsx)("p",{className:"text-white font-medium",children:(null==i?void 0:i.nextPayment)?new Date(i.nextPayment).toLocaleDateString():"N/A"})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"text-sm text-gray-200",children:"Last Payment"}),(0,s.jsx)("p",{className:"text-white font-medium",children:(null==i?void 0:i.lastPayment)?new Date(i.lastPayment).toLocaleDateString():"N/A"})]})]}),(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsxs)("div",{className:"flex justify-between text-gray-200",children:[(0,s.jsx)("span",{children:"Plan Name"}),(0,s.jsx)("span",{children:(null==i?void 0:i.subscriptionName)||"N/A"})]}),(0,s.jsxs)("div",{className:"flex justify-between text-gray-200",children:[(0,s.jsx)("span",{children:"Amount"}),(0,s.jsx)("span",{children:(null==i?void 0:i.subscriptionPrice)?"".concat(i.subscriptionCurrency," ").concat(i.subscriptionPrice):"N/A"})]}),(0,s.jsxs)("div",{className:"flex justify-between text-gray-200",children:[(0,s.jsx)("span",{children:"Renewal Type"}),(0,s.jsx)("span",{children:(null==i?void 0:i.renewalType)||"N/A"})]})]}),(0,s.jsx)("div",{className:"pt-4 border-t border-gray-800",children:(null==i?void 0:i.status)==="Active"?(0,s.jsx)(s.Fragment,{children:d?(0,s.jsxs)("div",{className:"space-y-4",children:[(0,s.jsxs)("select",{className:"w-full p-2 rounded bg-gray-800 text-white border border-gray-700",value:f,onChange:e=>h(e.target.value),children:[(0,s.jsx)("option",{value:"",children:"Select a reason"}),v.map(e=>(0,s.jsx)("option",{value:e.id,children:e.text},e.id))]}),(0,s.jsxs)("div",{className:"flex gap-2",children:[(0,s.jsx)(l.z,{variant:"destructive",className:"flex-1 bg-gray-200 text-black hover:bg-white",onClick:j,disabled:r||!f,children:r?"Processing...":"Confirm Cancel"}),(0,s.jsx)(l.z,{className:"flex-1 bg-gray-800 hover:bg-gray-700",onClick:()=>x(!1),disabled:r,children:"Back"})]})]}):(0,s.jsxs)("div",{className:"flex flex-col gap-4",children:[(0,s.jsx)("p",{className:"text-green-500 text-sm",children:"To change plans, simply cancel your current subscription and purchase a new one. For any refund of the price difference, contact support@aisonggenerator.io and we'll process it within 24 hours."}),(0,s.jsx)(l.z,{className:"w-full bg-white text-red-500 hover:bg-gray-200",onClick:()=>{b.push("/pricing"),y("payproPortal")},children:"Purchase Another Plan"}),(0,s.jsx)(l.z,{variant:"destructive",className:"w-full bg-gray-200 text-black hover:bg-white",onClick:()=>x(!0),disabled:r,children:"Cancel Subscription"})]})}):(0,s.jsxs)("div",{className:"space-y-4",children:[(0,s.jsx)("input",{type:"text",placeholder:"Reason for reactivation (optional)",className:"w-full p-2 rounded bg-gray-800 text-white border border-gray-700",value:p,onChange:e=>g(e.target.value)}),(0,s.jsx)(l.z,{className:"w-full bg-white text-red-500 hover:bg-gray-200",onClick:()=>{b.push("/pricing"),y("payproPortal")},children:"Purchase Another Plan"}),(0,s.jsx)(l.z,{className:"w-full bg-white text-black hover:bg-gray-200",onClick:N,disabled:r,children:r?"Processing...":"Reactivate Subscription"})]})})]})})}},9458:function(e,t,r){"use strict";r.d(t,{default:function(){return i}});var s=r(61462);r(70265);var a=r(44049),n=r(16391);function i(){let{modalState:e,closeModal:t}=(0,n.d)();return(0,s.jsx)(a.aR,{open:e.systemError,onOpenChange:()=>t("systemError"),children:(0,s.jsxs)(a._T,{className:"border-2 border-blue-400",children:[(0,s.jsxs)(a.fY,{children:[(0,s.jsx)(a.f$,{className:"text-xl text-red-500 font-bold",children:"\uD83D\uDEE0️ Technical Issues - Be Right Back! \uD83D\uDD27"}),(0,s.jsx)(a.yT,{className:"text-base text-gray-600 mt-2",children:"Service is temporarily unavailable. Expected to resume within 24 hours."})]}),(0,s.jsx)(a.xo,{children:(0,s.jsx)(a.OL,{className:"bg-blue-500 hover:bg-blue-600 text-white font-medium px-6",onClick:()=>t("systemError"),children:"OK"})})]})})}},69776:function(e,t,r){"use strict";r.d(t,{UpgradeModal:function(){return o}});var s=r(61462),a=r(82493),n=r(29555),i=r(16391),l=r(36446);function o(){let{modalState:e,closeModal:t,info:r}=(0,i.d)(),o=(0,l.tv)();return(0,s.jsx)(a.Vq,{open:e.upgrade,onOpenChange:e=>{e||t("upgrade")},children:(0,s.jsxs)(a.cZ,{className:"sm:max-w-[550px] bg-[#1C1C1C] border-zinc-800 rounded-3xl",children:[(0,s.jsxs)(a.fK,{children:[(0,s.jsx)(a.$N,{className:"text-3xl font-normal text-white",children:r.title}),(0,s.jsx)(a.Be,{className:"text-xl text-white/80 mt-4",children:r.desc})]}),(0,s.jsxs)("div",{className:"flex flex-col items-center justify-center gap-8 py-10",children:[(0,s.jsx)(n.z,{onClick:()=>{o.push("/pricing"),t("upgrade")},className:"w-full py-4 text-xl font-medium rounded-full bg-gradient-to-r from-purple-500/80 via-blue-500/80 to-purple-500/80 hover:opacity-90 transition-opacity",children:(0,s.jsx)("span",{children:"Upgrade Plan"})}),(0,s.jsxs)("div",{className:"flex flex-col items-start justify-start gap-2",children:[(0,s.jsx)("p",{className:"text-sm text-green-500",children:"1. Cancel anytime. No hidden fees."}),(0,s.jsx)("p",{className:"text-sm text-green-500",children:"2. Unused credits roll over to the next month and remain available even after cancellation."})]})]})]})})}},62572:function(e,t,r){"use strict";r.d(t,{z:function(){return n}});var s=r(61462),a=r(97711);r(70265);let n=e=>{let{children:t,className:r,variant:n="primary",as:i="button",...l}=e;return(0,s.jsx)(i,{className:(0,a.cn)("bg-secondary relative z-10 hover:bg-secondary/90 group hover:-translate-y-0.5 active:scale-[0.98] text-black text-sm md:text-sm transition font-medium duration-200  rounded-md px-4 py-2  flex items-center justify-center","simple"===n?"bg-secondary relative z-10 bg-transparent hover:border-secondary hover:bg-secondary/50  border border-transparent text-white text-sm md:text-sm transition font-medium duration-200  rounded-md px-4 py-2  flex items-center justify-center":"outline"===n?"bg-white relative z-10 hover:bg-secondary/90 hover:shadow-xl  text-black border border-black hover:text-black text-sm md:text-sm transition font-medium duration-200  rounded-md px-4 py-2  flex items-center justify-center":"primary"===n?"bg-secondary relative z-10 hover:bg-secondary/90  border border-secondary text-black text-sm md:text-sm transition font-medium duration-200  rounded-md px-4 py-2  flex items-center justify-center shadow-[0px_-1px_0px_0px_#FFFFFF60_inset,_0px_1px_0px_0px_#FFFFFF60_inset]":"muted"===n?"bg-neutral-800 relative z-10 hover:bg-neutral-900  border border-transparent text-white text-sm md:text-sm transition font-medium duration-200  rounded-md px-4 py-2  flex items-center justify-center shadow-[0px_1px_0px_0px_#FFFFFF20_inset]":"",r),...l,children:null!=t?t:"Get Started"})}},61319:function(e,t,r){"use strict";r.d(t,{W:function(){return n}});var s=r(61462),a=r(97711);r(70265);let n=e=>{let{children:t,className:r}=e;return(0,s.jsx)("div",{className:(0,a.cn)("max-w-7xl mx-auto px-4 ",r),children:t})}},9107:function(e,t,r){"use strict";r.d(t,{Register:function(){return h}});var s=r(61462),a=r(70265),n=r(61319),i=r(21654),l=r(51353),o=r(86648),c=r(35201),u=r(62572),d=r(49600),m=r(88362),x=r(6025),f=r(52750);function h(){let e=(0,m.createClientComponentClient)(),{utmData:t,clearUtmData:r}=(0,a.useContext)(x.t),[h,p]=(0,a.useState)(""),[g,b]=(0,a.useState)(!1),v=(0,f.usePathname)(),[y,w]=(0,a.useState)(!1),j=async(s,a)=>{null==s||s.preventDefault(),gtag_report_conversion(),b(!0);try{let{type:r,provider:s}=a,n=window.location.origin+"/api/auth/callback";if(t){let e=new URLSearchParams;Object.entries(t).forEach(t=>{let[r,s]=t;s&&e.append(r,s)});let r=e.toString();r&&(n+="?".concat(r))}"oauth"===r?await e.auth.signInWithOAuth({provider:s,options:{redirectTo:n}}):"magic_link"===r&&(await e.auth.signInWithOtp({email:h,options:{emailRedirectTo:n,data:null!=t?t:void 0}}),d.Am.success("Check your emails!"))}catch(e){d.Am.error("Sign up failed. Please try again: "+(null==e?void 0:e.message))}finally{r()}};return(0,s.jsxs)(n.W,{className:"max-w-lg mx-auto flex flex-col items-center justify-center ".concat("/login"===v?"h-screen":""),children:[(0,s.jsx)(i.T,{}),(0,s.jsx)("h1",{className:"text-xl ".concat("/login"===v?"md:text-3xl":"md:text-xl"," font-bold my-4"),children:"Welcome to AI Song Generator"}),(0,s.jsxs)("div",{className:"flex flex-col gap-3 my-6 text-center",children:[(0,s.jsxs)("p",{className:"flex items-center gap-2 text-sm md:text-lg",children:[(0,s.jsx)("span",{className:"text-xl",children:"\uD83C\uDF81"}),"Free 6 credits daily after sign-in"]}),(0,s.jsxs)("p",{className:"flex items-center gap-2 text-sm md:text-lg",children:[(0,s.jsx)("span",{className:"text-xl",children:"⏰"}),"Create 4-minute songs"]}),(0,s.jsxs)("p",{className:"flex items-center gap-2 text-sm md:text-lg",children:[(0,s.jsx)("span",{className:"text-xl",children:"⚡️"}),"Hear your songs within 1 minute"]}),(0,s.jsxs)("p",{className:"flex items-center gap-2 text-sm md:text-lg",children:[(0,s.jsx)("span",{className:"text-xl",children:"\uD83C\uDFB7"}),"Transform your inspiration into songs"]}),(0,s.jsxs)("p",{className:"flex items-center gap-2 text-sm md:text-lg",children:[(0,s.jsx)("span",{className:"text-xl",children:"\uD83C\uDFB6"}),"Premium AI music creation quality"]})]}),(0,s.jsxs)(u.z,{type:"button",className:"mx-auto w-full flex items-center justify-center gap-4",onClick:e=>j(e,{type:"oauth",provider:"google"}),disabled:g,children:[g?(0,s.jsx)(o.Z,{className:"h-4 w-4 animate-spin"}):(0,s.jsx)(l.Z,{className:"h-6 w-6"}),"Sign-up with Google"]}),(0,s.jsx)("div",{className:"relative my-6",children:(0,s.jsx)("div",{className:"relative flex justify-center text-xs uppercase",children:(0,s.jsx)("span",{className:"bg-background px-2 text-muted-foreground",children:"Or continue with"})})}),(0,s.jsx)("form",{className:"form-control w-full space-y-4 flex justify-center items-center",onSubmit:e=>j(e,{type:"magic_link"}),children:(0,s.jsxs)("div",{className:"grid gap-4",children:[(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)(c.I,{required:!0,type:"email",value:h,autoComplete:"email",placeholder:"your@email.com",className:"input input-bordered w-full placeholder:opacity-60",onChange:e=>p(e.target.value),onFocus:()=>w(!0),onBlur:()=>w(!1)}),(h||y)&&(0,s.jsx)("p",{className:"text-sm text-red-500",children:"Please open the magic link on the same device you receive it on."})]}),(0,s.jsxs)(u.z,{className:"",disabled:g,type:"submit",children:[g&&(0,s.jsx)(o.Z,{className:"h-4 w-4 animate-spin mr-2"}),"Send Magic Link"]})]})})]})}},16575:function(e,t,r){"use strict";r.d(t,{default:function(){return b}});var s=r(61462),a=r(70265),n=r(35160),i=r(73003),l=r(36905),o=r(86648),c=r(82060),u=r(63755),d=r(63932),m=r(70217),x=r(3191),f=r(20179),h=r(97711);let p=a.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,s.jsxs)(f.fC,{ref:t,className:(0,h.cn)("relative flex w-full touch-none select-none items-center",r),...a,children:[(0,s.jsx)(f.fQ,{className:"relative h-1.5 w-full grow overflow-hidden rounded-full bg-green-500/20",children:(0,s.jsx)(f.e6,{className:"absolute h-full bg-green-500"})}),(0,s.jsx)(f.bU,{className:"block h-4 w-4 rounded-full border border-primary/50 bg-background shadow transition-colors focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50"})]})});p.displayName=f.fC.displayName;var g=r(29555);function b(){let{isVisible:e,isPlaying:t,isLoading:r,currentTime:f,duration:h,volume:b,audioUrl:v,playingMusic:y,togglePlay:w,setVolume:j,seekTo:N,hidePlayer:k}=(0,n.c)(),[_,S]=(0,a.useState)({current:0,total:0}),[C,E]=(0,a.useState)(!1);if((0,a.useEffect)(()=>{S({current:f,total:h}),f>=h&&t&&w()},[f,h,t,w]),!e||!v)return null;let P=e=>{let t=Math.floor(e%60);return"".concat(Math.floor(e/60),":").concat(t<10?"0":"").concat(t)},D=()=>{E(!C)};return C?(0,s.jsx)("div",{className:"fixed bottom-4 right-4 z-50",children:(0,s.jsx)("button",{onClick:D,className:"w-10 h-10 rounded-full bg-white/80 backdrop-blur-md text-black/80 hover:text-black hover:bg-white/90 transition-colors shadow-lg flex items-center justify-center","aria-label":"Expand music player",children:(0,s.jsx)(i.Z,{className:"w-6 h-6"})})}):(0,s.jsxs)("div",{className:"fixed bottom-0 left-0 right-0 bg-[#0f0f0f]/90 backdrop-blur-md h-16 z-50 transition-all duration-300",children:[(0,s.jsx)(g.z,{variant:"ghost",size:"icon",onClick:k,className:"absolute top-2 right-2 text-white/80 hover:text-white hover:bg-white/10 transition-colors z-[60] md:block hidden",children:(0,s.jsx)(l.Z,{className:"w-5 h-5"})}),(0,s.jsxs)("div",{className:"relative max-w-screen-xl mx-auto px-4 flex items-center h-full",children:[(0,s.jsxs)("div",{className:"hidden md:flex items-center space-x-3 w-1/4",children:[(0,s.jsx)("div",{className:"w-10 h-10 rounded-sm overflow-hidden",children:(0,s.jsx)("img",{src:null==y?void 0:y.image,alt:null==y?void 0:y.title,className:"w-full h-full object-cover"})}),(0,s.jsx)("div",{className:"flex flex-col min-w-0",children:(0,s.jsx)("div",{className:"text-sm text-white font-medium truncate",children:(null==y?void 0:y.title)||""})})]}),(0,s.jsxs)("div",{className:"flex-1 flex flex-col items-center justify-center px-0 md:px-4",children:[(0,s.jsxs)("div",{className:"flex items-center justify-center gap-4 mb-1",children:[(0,s.jsx)("button",{onClick:w,disabled:r,className:"text-white hover:text-white/90 transition-colors disabled:opacity-50",children:r?(0,s.jsx)(o.Z,{className:"w-6 h-6 animate-spin"}):t?(0,s.jsx)(c.Z,{className:"w-6 h-6"}):(0,s.jsx)(u.Z,{className:"w-6 h-6"})}),(0,s.jsx)("button",{onClick:D,className:"text-white/80 hover:text-white transition-colors",children:(0,s.jsx)(d.Z,{className:"w-5 h-5"})})]}),(0,s.jsxs)("div",{className:"w-full flex items-center space-x-2",children:[(0,s.jsx)("span",{className:"text-xs text-white/60 min-w-[40px] text-center",children:P(_.current)}),(0,s.jsxs)("div",{className:"flex-1 relative",children:[(0,s.jsx)(p,{className:"w-full relative [&_[role=slider]]:h-3 [&_[role=slider]]:w-3 [&_[role=slider]]:bg-white",value:[_.current],max:_.total,step:.01,onValueChange:e=>{N(e[0])},disabled:r}),r&&(0,s.jsx)("div",{className:"absolute inset-0 flex items-center justify-center",children:(0,s.jsx)("div",{className:"h-0.5 w-full bg-white/10 overflow-hidden",children:(0,s.jsx)("div",{className:"h-full bg-white/30 animate-progress-loading"})})})]}),(0,s.jsx)("span",{className:"text-xs text-white/60 min-w-[40px] text-center",children:P(_.total)})]})]}),(0,s.jsx)("div",{className:"hidden md:flex items-center justify-end space-x-4 w-1/4",children:(0,s.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,s.jsx)("button",{onClick:()=>j(0===b?1:0),className:"text-white/80 hover:text-white transition-colors",children:0===b?(0,s.jsx)(m.Z,{className:"w-4 h-4"}):(0,s.jsx)(x.Z,{className:"w-4 h-4"})}),(0,s.jsx)(p,{className:"w-24 relative [&_[role=slider]]:h-3 [&_[role=slider]]:w-3 [&_[role=slider]]:bg-white",value:[b],max:1,step:.01,onValueChange:e=>{j(e[0])}})]})})]})]})}},44049:function(e,t,r){"use strict";r.d(t,{OL:function(){return p},_T:function(){return d},aR:function(){return o},f$:function(){return f},fY:function(){return m},le:function(){return g},xo:function(){return x},yT:function(){return h}});var s=r(61462),a=r(70265),n=r(3872),i=r(97711),l=r(29555);let o=n.fC;n.xz;let c=n.h_,u=a.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,s.jsx)(n.aV,{className:(0,i.cn)("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",r),...a,ref:t})});u.displayName=n.aV.displayName;let d=a.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,s.jsxs)(c,{children:[(0,s.jsx)(u,{}),(0,s.jsx)(n.VY,{ref:t,className:(0,i.cn)("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border border-slate-200 bg-white p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg dark:border-slate-800 dark:bg-slate-950",r),...a})]})});d.displayName=n.VY.displayName;let m=e=>{let{className:t,...r}=e;return(0,s.jsx)("div",{className:(0,i.cn)("flex flex-col space-y-2 text-center sm:text-left",t),...r})};m.displayName="AlertDialogHeader";let x=e=>{let{className:t,...r}=e;return(0,s.jsx)("div",{className:(0,i.cn)("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",t),...r})};x.displayName="AlertDialogFooter";let f=a.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,s.jsx)(n.Dx,{ref:t,className:(0,i.cn)("text-lg font-semibold",r),...a})});f.displayName=n.Dx.displayName;let h=a.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,s.jsx)(n.dk,{ref:t,className:(0,i.cn)("text-sm text-slate-500 dark:text-slate-400",r),...a})});h.displayName=n.dk.displayName;let p=a.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,s.jsx)(n.aU,{ref:t,className:(0,i.cn)((0,l.d)(),r),...a})});p.displayName=n.aU.displayName;let g=a.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,s.jsx)(n.$j,{ref:t,className:(0,i.cn)((0,l.d)({variant:"outline"}),"mt-2 sm:mt-0",r),...a})});g.displayName=n.$j.displayName},29555:function(e,t,r){"use strict";r.d(t,{d:function(){return o},z:function(){return c}});var s=r(61462),a=r(70265),n=r(89148),i=r(99649),l=r(97711);let o=(0,i.j)("inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium transition-colors focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-slate-950 disabled:pointer-events-none disabled:opacity-50 dark:focus-visible:ring-slate-300",{variants:{variant:{default:"bg-slate-900 text-slate-50 shadow hover:bg-slate-900/90 dark:bg-slate-50 dark:text-slate-900 dark:hover:bg-slate-50/90",destructive:"bg-red-500 text-slate-50 shadow-sm hover:bg-red-500/90 dark:bg-red-900 dark:text-slate-50 dark:hover:bg-red-900/90",outline:"border border-slate-200 bg-white shadow-sm hover:bg-slate-100 hover:text-slate-900 dark:border-slate-800 dark:bg-slate-950 dark:hover:bg-slate-800 dark:hover:text-slate-50",secondary:"bg-slate-100 text-slate-900 shadow-sm hover:bg-slate-100/80 dark:bg-slate-800 dark:text-slate-50 dark:hover:bg-slate-800/80",ghost:"hover:bg-slate-100 hover:text-slate-900 dark:hover:bg-slate-800 dark:hover:text-slate-50",link:"text-slate-900 underline-offset-4 hover:underline dark:text-slate-50"},size:{default:"h-9 px-4 py-2",sm:"h-8 rounded-md px-3 text-xs",lg:"h-10 rounded-md px-8",icon:"h-9 w-9"}},defaultVariants:{variant:"default",size:"default"}}),c=a.forwardRef((e,t)=>{let{className:r,variant:a,size:i,asChild:c=!1,...u}=e,d=c?n.g7:"button";return(0,s.jsx)(d,{className:(0,l.cn)(o({variant:a,size:i,className:r})),ref:t,...u})});c.displayName="Button"},82493:function(e,t,r){"use strict";r.d(t,{$N:function(){return h},Be:function(){return p},GG:function(){return u},Vq:function(){return o},cN:function(){return f},cZ:function(){return m},fK:function(){return x}});var s=r(61462),a=r(4919),n=r(70265),i=r(97711),l=r(669);let o=a.fC;a.xz;let c=a.h_,u=a.x8,d=n.forwardRef((e,t)=>{let{className:r,...n}=e;return(0,s.jsx)(a.aV,{ref:t,className:(0,i.cn)("fixed inset-0 z-[101] bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",r),...n})});d.displayName=a.aV.displayName;let m=n.forwardRef((e,t)=>{let{className:r,children:n,...o}=e;return(0,s.jsxs)(c,{children:[(0,s.jsx)(d,{}),(0,s.jsxs)(a.VY,{ref:t,className:(0,i.cn)("fixed left-1/2 top-1/2 z-[101] grid max-h-[calc(100%-4rem)] w-full -translate-x-1/2 -translate-y-1/2 gap-4 overflow-y-auto border bg-background p-6 shadow-lg shadow-black/5 duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:max-w-[400px] sm:rounded-xl",r),...o,children:[n,(0,s.jsxs)(a.x8,{className:"group absolute right-3 top-3 flex size-7 items-center justify-center rounded-lg outline-offset-2 transition-colors focus-visible:outline focus-visible:outline-2 focus-visible:outline-ring/70 disabled:pointer-events-none",children:[(0,s.jsx)(l.Pxu,{width:16,height:16,strokeWidth:2,className:"opacity-60 transition-opacity group-hover:opacity-100"}),(0,s.jsx)("span",{className:"sr-only",children:"Close"})]})]})]})});m.displayName=a.VY.displayName;let x=e=>{let{className:t,...r}=e;return(0,s.jsx)("div",{className:(0,i.cn)("flex flex-col space-y-1.5 text-center sm:text-left",t),...r})};x.displayName="DialogHeader";let f=e=>{let{className:t,...r}=e;return(0,s.jsx)("div",{className:(0,i.cn)("flex flex-col-reverse gap-2 sm:flex-row sm:justify-end sm:gap-3",t),...r})};f.displayName="DialogFooter";let h=n.forwardRef((e,t)=>{let{className:r,...n}=e;return(0,s.jsx)(a.Dx,{ref:t,className:(0,i.cn)("text-lg font-semibold tracking-tight",r),...n})});h.displayName=a.Dx.displayName;let p=n.forwardRef((e,t)=>{let{className:r,...n}=e;return(0,s.jsx)(a.dk,{ref:t,className:(0,i.cn)("text-sm text-muted-foreground",r),...n})});p.displayName=a.dk.displayName},35201:function(e,t,r){"use strict";r.d(t,{I:function(){return i}});var s=r(61462),a=r(70265),n=r(97711);let i=a.forwardRef((e,t)=>{let{className:r,type:a,...i}=e;return(0,s.jsx)("input",{type:a,className:(0,n.cn)("flex h-9 w-full rounded-md border border-slate-200 bg-transparent px-3 py-1 text-sm shadow-sm transition-colors file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-slate-500 focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-slate-950 disabled:cursor-not-allowed disabled:opacity-50 dark:border-slate-800 dark:placeholder:text-slate-400 dark:focus-visible:ring-slate-300",r),ref:t,...i})});i.displayName="Input"},30591:function(e,t,r){"use strict";r.d(t,{Toaster:function(){return i}});var s=r(61462),a=r(47432),n=r(49600);let i=e=>{let{...t}=e,{theme:r="system"}=(0,a.F)();return(0,s.jsx)(n.x7,{theme:r,className:"toaster group",toastOptions:{classNames:{toast:"group toast group-[.toaster]:bg-white group-[.toaster]:text-slate-950 group-[.toaster]:border-slate-200 group-[.toaster]:shadow-lg dark:group-[.toaster]:bg-slate-950 dark:group-[.toaster]:text-slate-50 dark:group-[.toaster]:border-slate-800 group-[.toaster]:min-w-0 group-[.toaster]:w-fit group-[.toaster]:max-w-[90vw] group-[.toaster]:sm:max-w-[520px]",description:"group-[.toast]:text-slate-500 dark:group-[.toast]:text-slate-400",actionButton:"group-[.toast]:bg-slate-900 group-[.toast]:text-slate-50 dark:group-[.toast]:bg-slate-50 dark:group-[.toast]:text-slate-900",cancelButton:"group-[.toast]:bg-slate-100 group-[.toast]:text-slate-500 dark:group-[.toast]:bg-slate-800 dark:group-[.toast]:text-slate-400"}},...t})}},29369:function(e,t){"use strict";t.Z={url:"https://aisonggenerator.io",auth:{loginUrl:"/login",callbackUrl:"/"},links:{email:"support@aisonggenerator.io"},locales:["en","es","pt","ja","ko","vi","th","zh","fr","de","ru"]}},95180:function(e,t,r){"use strict";var s,a,n,i;r.d(t,{A0:function(){return l},IV:function(){return p},J8:function(){return x},O3:function(){return c},Pw:function(){return d},QS:function(){return u},Ru:function(){return m},hU:function(){return s},k3:function(){return f},q6:function(){return o},wi:function(){return h},xL:function(){return a}});let l=3,o=3,c=2,u=3,d=1,m=3,x=3,f=6,h=3,p=100;(n=s||(s={}))[n.GENERATING=1]="GENERATING",n[n.COVER_TITLE=2]="COVER_TITLE",n[n.FIRST_AUDIO=3]="FIRST_AUDIO",n[n.SECOND_AUDIO=4]="SECOND_AUDIO",n[n.FAILED=-1]="FAILED",n[n.DELETED=6]="DELETED",(i=a||(a={})).UDIO="song2",i.CUSTOM="custom",i.SUNO="suno",i.SIMPLE="simple"},16391:function(e,t,r){"use strict";r.d(t,{ModalProvider:function(){return l},d:function(){return o}});var s=r(61462),a=r(70265);let n={price:!1,stripePortal:!1,payproPortal:!1,systemError:!1,login:!1,upgrade:!1},i=(0,a.createContext)(void 0);function l(e){let{children:t}=e,[r,l]=(0,a.useState)(n),[o,c]=(0,a.useState)({title:"",desc:""}),[u,d]=(0,a.useState)(null),[m,x]=(0,a.useState)(null);return(0,s.jsx)(i.Provider,{value:{modalState:r,info:o,handleSetInfo:(e,t)=>{c({title:e,desc:t})},openModal:e=>{l(t=>({...t,[e]:!0}))},closeModal:e=>{l(t=>({...t,[e]:!1}))},editMusic:u,handleSetEditMusic:e=>{d(e)},musicMetadata:m,handleSetMusicMetadata:e=>{x(e)}},children:t})}function o(){let e=(0,a.useContext)(i);if(void 0===e)throw Error("useModal must be used within a ModalProvider");return e}},90093:function(e,t,r){"use strict";r.d(t,{MusicListProvider:function(){return c},l:function(){return u}});var s=r(61462),a=r(70265),n=r(88362),i=r(22370),l=r(93597);let o=(0,a.createContext)(void 0);function c(e){let{children:t}=e,r=(0,n.createClientComponentClient)(),[c,u]=(0,a.useState)(new Map),[d,m]=(0,a.useState)([]),[x,f]=(0,a.useState)([]),[h,p]=(0,a.useState)([]),[g,b]=(0,a.useState)([]),[v,y]=(0,a.useState)(1),[w,j]=(0,a.useState)(1),[N,k]=(0,a.useState)(!1),[_,S]=(0,a.useState)(0),[C,E]=(0,a.useState)(null),[P,D]=(0,a.useState)(new Map),{user:I}=(0,a.useContext)(l.S);return(0,a.useEffect)(()=>{r&&I&&(async()=>{j(await (0,i.gc)(r,I.id))})()},[I]),(0,a.useEffect)(()=>{b(c.get(v)||[])},[c,v]),(0,s.jsx)(o.Provider,{value:{pollingMusicIds:P,isLoading:N,musicsList:c,runningMusics:d,favoriteMusics:x,failedMusics:h,currentPage:v,totalPages:w,taskTrigger:_,currentMusicList:g,selectedMusic:C,handleSetPollingMusicIds:(e,t)=>{D(r=>{let s=new Map(r);return!1===t?s.delete(e):s.set(e,t),s})},handleSetIsLoading:e=>{k(e)},handleSetMusicsList:(e,t)=>{u(r=>{let s=new Map(r);return s.set(e,t),s})},handleSetCurrentPage:e=>{e<1||e>w||y(e)},handleSetRunningMusics:e=>{m(e)},handleSetFavoriteMusics:e=>{f(e)},handleSetFailedMusics:e=>{p(e)},handleSetTaskTrigger:()=>{S(e=>e+1)},appendNewMusic:e=>{u(t=>{let r=new Map(t),s=r.get(1)||[];return s.some(t=>t.music_id===e.music_id)||r.set(1,[e,...s]),r})},handleSetSelectedMusic:e=>{E(e)}},children:t})}let u=()=>{let e=(0,a.useContext)(o);if(void 0===e)throw Error("useMusicListContext must be used within a MusicListProvider");return e}},35160:function(e,t,r){"use strict";r.d(t,{MusicPlayerProvider:function(){return i},c:function(){return l}});var s=r(61462),a=r(70265);let n=(0,a.createContext)(void 0),i=e=>{let{children:t}=e,[r,i]=(0,a.useState)(!1),[l,o]=(0,a.useState)(!1),[c,u]=(0,a.useState)(0),[d,m]=(0,a.useState)(0),[x,f]=(0,a.useState)(1),[h,p]=(0,a.useState)(null),[g,b]=(0,a.useState)(null),[v,y]=(0,a.useState)(!1),w=(0,a.useRef)(null),[j,N]=(0,a.useState)({}),k=(0,a.useCallback)(e=>{i(!0),b(e),y(!0),o(!0)},[]),_=(0,a.useCallback)(()=>{o(!1)},[]),S=(0,a.useCallback)(()=>{o(!1),u(0),b(null)},[]),C=(0,a.useCallback)(e=>{u(e),w.current&&(w.current.currentTime=e)},[]),E=(0,a.useCallback)(()=>{l?_():g&&o(!0)},[l,g,_]),P=(0,a.useCallback)(()=>{y(!1),S()},[S]);return(0,a.useEffect)(()=>{w.current&&(l?w.current.play().catch(e=>{console.log("Playback failed:",e),o(!1),i(!1)}):w.current.pause())},[l,g]),(0,a.useEffect)(()=>{w.current&&(w.current.volume=x)},[x]),(0,s.jsxs)(n.Provider,{value:{isLoading:r,isPlaying:l,isVisible:v,currentTime:c,duration:d,volume:x,audioUrl:g,playingMusic:h,alignedLyrics:j,handleSetAlignedLyrics:(e,t)=>{N(r=>({...r,[e]:t}))},playAudio:k,pauseAudio:_,stopAudio:S,setVolume:f,seekTo:C,togglePlay:E,hidePlayer:P,handleSetPlayingMusic:e=>{p(e),k(e.audio)}},children:[t,(0,s.jsx)("audio",{ref:w,src:g||"",onTimeUpdate:()=>{var e;return u((null===(e=w.current)||void 0===e?void 0:e.currentTime)||0)},onDurationChange:()=>{var e;return m((null===(e=w.current)||void 0===e?void 0:e.duration)||0)},onEnded:_,onCanPlay:()=>i(!1),onPlaying:()=>i(!1),onLoadStart:()=>i(!0),onWaiting:()=>i(!0),onError:()=>{i(!1),o(!1)},onStalled:()=>i(!1)})]})},l=()=>{let e=(0,a.useContext)(n);if(void 0===e)throw Error("useMusicPlayer must be used within a MusicPlayerProvider");return e}},93597:function(e,t,r){"use strict";r.d(t,{S:function(){return c},UserContextProvider:function(){return u}});var s=r(61462),a=r(70265),n=r(49600),i=r(88362),l=r(41409),o=r(95180);let c=(0,a.createContext)({}),u=e=>{let{children:t}=e,[r,l]=(0,a.useState)(void 0),[u,m]=(0,a.useState)(!0),x=async function(){try{let e=(0,i.createClientComponentClient)(),{data:t}=await e.auth.getUser();if(!t||!t.user){console.log("No user data found");return}l({id:t.user.id,email:t.user.email,name:t.user.user_metadata.name,avatar_url:t.user.user_metadata.avatar_url});let r=await fetch("/api/user",{method:"POST",body:JSON.stringify({user_id:t.user.id})});if(!r.ok){n.Am.error("Failed to fetch user profile, Please refresh the page.");return}let{data:s}=await r.json(),a=s.total_credits,c=s.used_credits,u=0,m=Date.now(),x=s.free_credits_time?new Date(s.free_credits_time).getTime():m;if(s.has_access)(u=a+o.k3-c)<o.A0&&(m-x>=864e5||m===x)&&(await e.from("profiles").update({free_credits_time:new Date(m).toISOString(),used_credits:c-o.A0}).eq("id",t.user.id),u+=o.A0);else{let r=await d(e,s.user_ip,s.user_ip_country,s.email);(m-x>=864e5||m===x)&&(await e.from("profiles").update({free_credits_time:new Date(m).toISOString(),used_credits:0,free_credits:r}).eq("id",t.user.id),c=0),u=r-c}l({...s,left_credits:u,name:t.user.user_metadata.name,avatar_url:t.user.user_metadata.avatar_url})}catch(e){n.Am.error("Failed to fetch user info: ".concat(e)),console.error("Failed to fetch user info: ",e)}finally{m(!1)}};return(0,a.useEffect)(()=>{x()},[]),(0,s.jsx)(c.Provider,{value:{user:r,fetchUserInfo:x,userLoading:u},children:t})};async function d(e,t,r,s){let a=o.k3;if(t){let r=await (0,l.Bn)(e,t);if(!r)return 0;let n=r.findIndex(e=>e.email===s);a=1===r.length?o.k3:2===r.length?o.k3:3===r.length?0===n||1===n?o.k3:o.wi:0===n||1===n?o.k3:2===n?o.wi:0}return["IN"].includes(r)&&a>0&&(a=3),["RU"].includes(r)&&a>0&&(a=2),a}},6025:function(e,t,r){"use strict";r.d(t,{UtmProvider:function(){return l},t:function(){return i}});var s=r(61462),a=r(70265),n=r(52750);let i=(0,a.createContext)(null);function l(e){let{children:t}=e,r=(0,n.useSearchParams)(),[l,o]=(0,a.useState)(null),c=(0,a.useCallback)(()=>{let e=sessionStorage.getItem("utm_backup");if(e){o(JSON.parse(e));return}let t={utm_source:r.get("utm_source")||"",utm_term:r.get("utm_term")||"",referrer:document.referrer||"direct"};o(t),sessionStorage.setItem("utm_backup",JSON.stringify(t))},[r]);return(0,a.useEffect)(()=>{c()},[c]),(0,s.jsx)(i.Provider,{value:{utmData:l,clearUtmData:()=>{o(null),sessionStorage.removeItem("utm_backup")}},children:t})}},60612:function(e,t,r){"use strict";r.d(t,{ThemeProvider:function(){return n}});var s=r(61462);r(70265);var a=r(47432);function n(e){let{children:t,...r}=e;return(0,s.jsx)(a.f,{...r,children:t})}},36446:function(e,t,r){"use strict";r.d(t,{jD:function(){return c},rU:function(){return l},tv:function(){return u}});var s=r(17465),a=r(71262),n=r(29369);let i=(0,s.R)({locales:n.Z.locales,defaultLocale:"en",localePrefix:"as-needed"}),{Link:l,redirect:o,usePathname:c,useRouter:u,getPathname:d}=(0,a.os)(i)},97711:function(e,t,r){"use strict";r.d(t,{A_:function(){return i},SE:function(){return l},cn:function(){return n}});var s=r(20837),a=r(63091);function n(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return(0,a.m6)((0,s.W)(t))}async function i(e){try{let t=await fetch("https://open.feishu.cn/open-apis/bot/v2/hook/5f1acb1c-beb5-4873-a218-b3a5944e50b2",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({msg_type:"text",content:{text:e}})});t.ok||console.error("Failed to send Feishu notification:",await t.text())}catch(e){console.error("Error sending Feishu notification:",e)}}function l(e){if(!e||""===e)return"Music generation failed. Please try again.";let t=e.replace(/suno(?:'s)?\s*/gi,"").trim();return""===t?"Music generation failed. Please try again.":t.includes("timeout")?"Due to high traffic, music generation timed out. Please try again.":"".concat(t)}r(95180)},22370:function(e,t,r){"use strict";r.d(t,{DC:function(){return u},J$:function(){return c},Lt:function(){return d},RC:function(){return a},St:function(){return o},_B:function(){return i},dZ:function(){return n},gc:function(){return f},iN:function(){return m},je:function(){return l},wH:function(){return x}});var s=r(95180);async function a(e,t){let r=t.map(e=>{let{music_id:t,...r}=e;return{music_id:t,...r}}),{data:s,error:a}=await e.from("music").upsert(r,{onConflict:"music_id"}).select();if(a)throw console.error("Error updating music:",a),Error("Error getting music: ",a);return s}async function n(e,t){let{data:r,error:s}=await e.from("music").select("*").eq("music_id",t).single();if(s)throw console.error("Error getting music data:",s),Error("Error getting music data: ",s);return r}async function i(e,t){let{data:r,error:s}=await e.from("music").delete().eq("music_id",t);if(s)throw console.error("Error deleting music:",s),Error("Error deleting music: ",s)}async function l(e,t,r){let{data:s,error:a}=await e.from("music").update({is_private:r}).eq("music_id",t).select();if(a)throw console.error("Error updating music private:",a),Error("Error updating music private: ".concat(a.message));return s}async function o(e,t,r){let{data:s,error:a}=await e.from("music").update({is_like:r}).eq("music_id",t).select();if(a)throw console.error("Error updating music favorite status:",a),Error("Error updating music favorite status: ".concat(a.message));return s}async function c(e){let{data:t,error:r}=await e.from("music").select("*").eq("status",4).eq("is_private",!1).order("created_at",{ascending:!1}).limit(100);if(r)throw console.error("Error getting display music:",r),Error("Error getting display music: ",r);return t}async function u(e,t){let{data:r,error:a}=await e.from("music").select("*").eq("user_id",t).or("status.eq.".concat(s.hU.GENERATING,",status.eq.").concat(s.hU.COVER_TITLE)).order("created_at",{ascending:!1});if(a)throw console.error("Error getting running music:",a),Error("Error getting running music: ",a);return r}async function d(e,t){let{data:r,error:s}=await e.from("music").select("*").eq("user_id",t).eq("is_like",!0).order("created_at",{ascending:!1});if(s)throw console.error("Error getting favorite music:",s),Error("Error getting favorite music: ",s);return r}async function m(e,t){let{data:r,error:a}=await e.from("music").select("*").eq("user_id",t).eq("status",s.hU.FAILED).order("created_at",{ascending:!1});if(a)throw console.error("Error getting failed music:",a),Error("Error getting failed music: ",a);return r}async function x(e,t,r){let{data:a,error:n}=await e.from("music").select("*").eq("user_id",t).eq("status",s.hU.SECOND_AUDIO).order("created_at",{ascending:!1}).range((r-1)*s.IV,r*s.IV-1);if(n)throw console.error("Error getting page music:",n),Error("Error getting page music: ",n);return a}async function f(e,t){let{count:r,error:a}=await e.from("music").select("*",{count:"exact",head:!0}).eq("user_id",t).eq("status",s.hU.SECOND_AUDIO);if(a)throw console.error("Error getting total rows:",a),Error("Error getting total rows: ",a);return Math.ceil(r/s.IV)}},41409:function(e,t,r){"use strict";async function s(e,t,r){let s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"used_credits",a=0;for(;a<3;)try{let{error:a}=await e.rpc("increment",{x:r,row_id:t,table_name:"profiles",field_name:s});if(a)throw a;return}catch(e){if(console.error("尝试增加积分失败 (尝试 ".concat(a+1,"/").concat(3,"):"),e),++a>=3)throw console.error("增加积分失败，已达到最大重试次数"),e;await new Promise(e=>setTimeout(e,1e3))}}async function a(e,t){let r=arguments.length>2&&void 0!==arguments[2]&&arguments[2],{data:s,error:a}=await e.from("profiles").select("*").eq("user_ip",t).eq("has_access",r).order("user_create_time",{ascending:!0});if(a)throw console.error("Error get free users by ip:",a),Error("Error get free users by ip: ",a);return s}r.d(t,{Bn:function(){return a},xi:function(){return s}})}},function(e){e.O(0,[5371,8791,9706,8949,9184,1473,2713,4181,4593,8744,2484,9642,1744],function(){return e(e.s=11137)}),_N_E=e.O()}]);