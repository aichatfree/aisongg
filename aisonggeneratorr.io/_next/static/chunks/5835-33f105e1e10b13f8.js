"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[5835],{86681:function(e,t,r){r.d(t,{default:function(){return o}});var s=r(61462),a=r(29555),n=r(41323),i=r(16391),l=r(82493);function o(){let{modalState:e,closeModal:t}=(0,i.d)();return(0,s.jsx)(l.Vq,{open:e.price,onOpenChange:e=>{e||t("price")},children:(0,s.jsxs)(l.cZ,{className:"flex flex-col gap-0 p-0 sm:max-w-6xl [&>button:last-child]:hidden",children:[(0,s.jsx)("div",{className:"overflow-y-auto",children:(0,s.jsxs)(l.fK,{className:"contents space-y-0 text-left",children:[(0,s.jsx)(l.$N,{className:"px-6 pt-6 text-xl font-bold text-center",children:"Subscribe now to unlock all features"}),(0,s.jsx)(l.Be,{asChild:!0,children:(0,s.jsx)("div",{className:"p-6",children:(0,s.jsx)("div",{className:"space-y-4 [&_strong]:font-semibold [&_strong]:text-foreground",children:(0,s.jsx)(n.Z,{})})})})]})}),(0,s.jsx)(l.cN,{className:"border-t border-border px-6 py-4",children:(0,s.jsx)(l.GG,{asChild:!0,children:(0,s.jsx)(a.z,{type:"button",children:"Okay"})})})]})})}},53255:function(e,t,r){r.d(t,{Z:function(){return G}});var s=r(61462),a=r(70265),n=r(35201),i=r(72517),l=r(54667);r(78821);var o=r(82493),c=r(29555),d=r(41443),u=r(669),m=r(7142),p=r(97711);a.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,s.jsx)(m.fC,{className:(0,p.cn)("grid gap-2",r),...a,ref:t})}).displayName=m.fC.displayName,a.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,s.jsx)(m.ck,{ref:t,className:(0,p.cn)("aspect-square h-4 w-4 rounded-full border border-slate-200 border-slate-900 text-slate-900 shadow focus:outline-none focus-visible:ring-1 focus-visible:ring-slate-950 disabled:cursor-not-allowed disabled:opacity-50 dark:border-slate-800 dark:border-slate-50 dark:text-slate-50 dark:focus-visible:ring-slate-300",r),...a,children:(0,s.jsx)(m.z$,{className:"flex items-center justify-center",children:(0,s.jsx)(u.nQG,{className:"h-3.5 w-3.5 fill-primary"})})})}).displayName=m.ck.displayName;var h=r(37830);function x(e){let{trigger:t,display:r,open:a,onOpenChange:n}=e;return(0,s.jsx)(h.zt,{children:(0,s.jsxs)(h.fC,{open:a,onOpenChange:n,children:[(0,s.jsx)(h.xz,{asChild:!0,children:t}),(0,s.jsx)(h.h_,{children:(0,s.jsxs)(h.VY,{sideOffset:5,className:"z-50 animate-in fade-in-0 zoom-in-95",children:[r,(0,s.jsx)(h.Eh,{className:"fill-black"})]})})]})})}var g=r(93597),f=r(16391),v=r(95180),y=r(89901),b=r(20240),j=r(86648);function w(e){let{display:t,trigger:r,id:n}=e,[i,o]=(0,a.useState)(!1);return(0,s.jsx)(x,{open:i,onOpenChange:o,display:(0,s.jsx)("div",{className:"bg-black p-2 rounded-md shadow-lg max-w-[450px] text-sm break-words",children:t}),trigger:(0,s.jsxs)(l._,{htmlFor:n,className:"cursor-help text-white text-xs sm:text-base flex justify-between items-center",onClick:()=>o(!i),onTouchStart:e=>{e.preventDefault(),o(!i)},children:[r,(0,s.jsx)(y.Z,{size:16,className:"text-white ml-2"})]})})}function N(e){let{instrumental:t,setInstrumental:r}=e;return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(i.r,{id:"instrumental",checked:t,onCheckedChange:e=>r(e),className:"border-1 border-white",style:{backgroundColor:t?"#4276ED":"#525B56"}}),(0,s.jsx)(w,{display:"Generate instrumental music without vocals",trigger:"Instrumental",id:"instrumental"})]})}function S(e){let{isPrivate:t,setIsPrivate:r}=e,{user:n}=(0,a.useContext)(g.S),{openModal:l,handleSetInfo:o}=(0,f.d)(),c=e=>{if(!n){l("login");return}if(!n.has_access){o("Upgrade Required","You need to upgrade to a paid plan to make this song private"),l("upgrade");return}r(e)};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(i.r,{id:"private",checked:t,onCheckedChange:e=>c(e),className:"border-1 border-white",style:{backgroundColor:t?"#4276ED":"#525B56"}}),(0,s.jsx)(w,{display:"This song is only visible to you and won't be exposed in any public areas",trigger:"Private",id:"private"})]})}function k(e){let{description:t,setDescription:r,isDescriptionGenerating:a,handleDescriptionGenerate:n}=e;return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(d.g,{placeholder:"Enter song genre or theme",value:t,rows:10,maxLength:200,onChange:e=>r(e.target.value),className:"w-full bg-gray-700 bg-opacity-50 text-white placeholder-gray-400 border-none resize-none mb-2 text-xs sm:text-sm"}),(0,s.jsxs)("div",{className:"flex justify-between items-center",children:[(0,s.jsxs)(c.z,{className:"text-purple-300 hover:text-white hover:bg-purple-700 text-xs sm:text-sm",onClick:n,children:[(0,s.jsx)("span",{className:"mr-2",children:"AI Generate"}),a?(0,s.jsx)(j.Z,{className:"mr-2 h-4 w-4 animate-spin"}):(0,s.jsx)(b.Z,{className:"w-4 h-4"})]}),(0,s.jsxs)("span",{className:"text-xs text-purple-300",children:[t.length," / 200"]})]})]})}function C(e){let{lyrics:t,setLyrics:r,instrumental:a,isLyricsGenerating:n,setIsPromptInputDialogOpen:i}=e;return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("div",{className:"relative",children:(0,s.jsx)(d.g,{placeholder:"Enter your lyrics here...",disabled:a,value:t,rows:20,maxLength:3e3,onChange:e=>r(e.target.value),className:"w-full bg-gray-700 bg-opacity-50 text-white placeholder-gray-400 border-none resize-none mb-2 text-xs sm:text-sm"})}),(0,s.jsxs)("div",{className:"flex justify-between items-center flex-wrap",children:[(0,s.jsxs)(c.z,{className:"text-purple-300 hover:text-white hover:bg-purple-700 text-xs sm:text-sm",onClick:()=>i(!0),children:[(0,s.jsx)("span",{className:"mr-2",children:"AI Lyrics Generate"}),n?(0,s.jsx)(j.Z,{className:"mr-2 h-4 w-4 animate-spin"}):(0,s.jsx)(b.Z,{className:"w-4 h-4"})]}),(0,s.jsxs)("span",{className:"text-xs text-purple-300",children:[t.length," / 3000"]})]})]})}function E(e){let{isLoading:t,has_access:r,modal:n,onSubmit:i}=e,[l,o]=(0,a.useState)(0),[d,u]=(0,a.useState)(!1);return(0,a.useEffect)(()=>{if(t){o(0),u(!1);let e=setTimeout(()=>{u(!0)},1e4),t=setInterval(()=>{o(e=>e>=100?(clearInterval(t),100):e+1)},100);return()=>{clearInterval(t),clearTimeout(e),o(0),u(!1)}}},[t]),(0,s.jsxs)("div",{className:"flex flex-col gap-2",children:[(0,s.jsx)(c.z,{className:"w-full bg-gradient-to-r from-pink-500 to-purple-600 hover:from-pink-600 hover:to-purple-700 text-white text-sm sm:text-base font-semibold transition-all duration-300 py-2 sm:py-3",onClick:i,disabled:t,children:t?(0,s.jsxs)("div",{className:"w-full",children:[(0,s.jsx)("div",{className:"flex items-center justify-center mb-2",children:(0,s.jsx)("span",{className:"text-xs sm:text-sm",children:d?(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsx)("span",{children:"Optimizing your song"}),(0,s.jsx)("span",{className:"animate-spin",children:"⌛"})]}):"Generating... (".concat(Math.min(Math.round(l),100),"%)")})}),(0,s.jsx)("div",{className:"w-full bg-purple-200 rounded-full h-1.5",children:(0,s.jsx)("div",{className:"bg-purple-600 h-1.5 rounded-full transition-all duration-300",style:{width:"".concat(Math.min(l,100),"%")}})})]}):"Generate ->"}),(0,s.jsx)("p",{className:"text-xs text-red-400 text-center",children:"Lyrics, titles, and styles must not contain names of famous people or inappropriate words."}),(0,s.jsx)("p",{className:"text-xs text-gray-400 text-center",children:"suno"===n?"Generating once costs ".concat(v.q6," credits"):"Generating once costs ".concat(v.A0," credits")})]})}function M(e){let{isOpen:t,prompt:r,setPrompt:a,setIsOpen:n,handleLyricsGenerate:i}=e;return(0,s.jsx)(o.Vq,{open:t,onOpenChange:n,children:(0,s.jsxs)(o.cZ,{className:"sm:max-w-[425px] bg-[#1C1C1C] border-zinc-800",children:[(0,s.jsxs)(o.fK,{children:[(0,s.jsx)(o.$N,{children:"Tell us about your song"}),(0,s.jsx)(o.Be,{children:"Enter a description of the lyrics you want, and we'll generate them for you."})]}),(0,s.jsx)("div",{className:"w-full",children:(0,s.jsx)(d.g,{id:"prompt",rows:5,value:r,onChange:e=>a(e.target.value),className:"w-full text-xs"})}),(0,s.jsx)(o.cN,{children:(0,s.jsx)(c.z,{onClick:i,className:"bg-cyan-500",children:"Generate"})})]})})}var P=r(17679);let _={Genre:["Pop","Indie Pop","Rock","Classic Rock","Jazz","Cool Jazz","Traditional Folk","Neo Folk","Bluegrass","Country","EDM","Techno","Heavy Metal","Death Metal","Classical","Contemporary Classical","Film Score","TV Theme","Pop Punk","Hyper Pop","Pop Rap","Wave Pop","Electronic","Synth-pop","Electronic Rock","Electropop","Cyberpunk","Dance Pop","Disco","Hardstyle","Ballroom","Future House","Tech House","Future Bass","Hip Hop","Rap","UK Drill","West Coast Rap","Mumble Rap","Rock Opera","Steady Rock","Doom Metal","Power Metal","Symphonic Metal","Experimental Rock","Experimental Metal","Post-Punk","Post-Grunge","Psychedelic Rock","Psychedelic Pop","Psychedelic Folk","Psychedelic Trance","Big Band","Jazz Fusion","Blues","Texas Blues","Piedmont Blues","Delta Blues","Soul Jazz","Jazz Rap","Punk Jazz","Modal Jazz","Irish Folk","Latin Folk","Kayōkyoku","Hindustani Folk","Celtic Music","Russian Folk","Prayer","Gregorian Chant","Sufi Music","Spiritual","Americana","Roots Rock","Latin Pop","Mambo","Samba","Salsa","Arabic Music","Tarab","Carnatic Music","Hindustani","Shamisen","Gagaku","Future Garage","Minimal Tech","Intelligent Dance","Glitch Pop","Glitch Hop","Noise Music","Ambient Electronic","Ethereal","Dark Ambient","Atmospheric Metal","Deathcore","Melodic Death Metal","Black Metal","Thrash Metal","Symphonic Black Metal","Symphonic Pop","Symphonic Rock","Symphony","Sonata","String Quartet","Serialism","Minimalism","Musique Concr\xe8te","Sound Collage","Sound Texture","Spaghetti Western","Opera","Musical","Light Opera","Opera Pop","Butoh","Vaudeville","Troubadour","Rogue Theme"],Moods:["Joy","Sadness","Anger","Fear","Surprise","Anticipation","Calmness","Romantic","Nostalgia","Mystery","Triumph","Despair","Soulful and Lively Atmosphere","slow sad","emotional","soulful","breakdown","sophisticated","sharp","crisp","Spunky","seductive","mysterious","relaxed","laid-back","high tension","slow","trip-hop","tender","melodic","trance","danceable","progressive","fast tempo","Melancholy","ear candy","future","syncopation","catchy","depressive","night-lovingscene"],Voices:["Male Voice","Female Voice","Soprano","Coloratura Soprano","Soubrette","Mezzo-Soprano","Coloratura Mezzo-Soprano","Caberet Mezzo","Alto","Dramatic Alto","Alto Profondo","Tenor","Spinto Tenor","Counter-Tenor","Baritone","Verdi Baritone","Baryton-Martin","Bass","Lyric Bass","Basso Cantante","Gospel Choirs","Barbershop Quartets","Female emotive voice","female voice","Jamaican slang","robotic vocals","very robotic vocals","female ai","Clear and melodious voice","Rapid-fire rap","gentle voice","Miku voice","Vocaloid","speck fast","Male singer","Children's Spoken Word","Circular Breathing","Ingressive Phonation","Microtonal Singing","Beatboxing","Throat Singing","Vocal Fry","Whistle Register","Shibuya-kei","emotional depth vocal","vocal add ons","muffled voice","Spanish male sensual voice","whispering voice"],Tempos:["60-80 BPM","80-120 BPM","120-160 BPM"],Instruments:["Piano","Guitar","Drums","Bass","Violin","Synthesizer","Electric Guitar","Acoustic Guitar","Strings","Digital Instruments"]};function z(e){let{disabled:t,instrumental:r,styles:n,setStyles:i}=e,[l,o]=(0,a.useState)(null),[c,u]=(0,a.useState)(new Set),m=e=>{t||o(l===e?null:e)},p=e=>{t||i(t=>{let r=t.split(",").map(e=>e.trim()).filter(e=>""!==e);return"Voices"===l||"Tempos"===l?[...r.filter(e=>!_[l].includes(e)),e].join(","):r.includes(e)?r.filter(t=>t!==e).join(","):r.length>0?"".concat(t,",").concat(e):e})},h=e=>{u(t=>{let r=new Set(t);return r.has(e)?r.delete(e):r.add(e),r})};return(0,s.jsxs)("div",{className:"w-full",children:[(0,s.jsxs)("div",{className:"relative mb-2",children:[(0,s.jsx)(d.g,{disabled:t,value:n,onChange:e=>i(e.target.value),className:"min-h-[80px]",placeholder:"Enter song styles or select from below...",maxLength:120}),(0,s.jsxs)("div",{className:"absolute bottom-2 right-2 text-xs text-gray-400",children:[n.length," / 120"]})]}),(0,s.jsx)("div",{className:"flex gap-2 mb-2 flex-wrap",children:Object.keys(_).filter(e=>r?"Voices"!==e:"Instruments"!==e).map((e,r)=>(0,s.jsxs)("button",{onClick:()=>m(e),className:"no-underline group cursor-pointer relative shadow-zinc-900 rounded-full p-px text-xs font-semibold leading-6 \n                ".concat(t?"opacity-50 cursor-not-allowed":""),children:[(0,s.jsx)("span",{className:"absolute inset-0 overflow-hidden rounded-full",children:(0,s.jsx)("span",{className:"absolute inset-0 rounded-full bg-[image:radial-gradient(75%_100%_at_50%_0%,rgba(168,85,247,0.6)_0%,rgba(168,85,247,0)_75%)] opacity-0 transition-opacity duration-500 group-hover:opacity-100"})}),(0,s.jsxs)("div",{className:"relative flex items-center space-x-2 z-10 rounded-full py-0.5 px-1 md:px-4 ring-1 \n                ".concat(l===e?"bg-purple-950 ring-white text-purple-400":"bg-white ring-zinc-950 text-zinc-950"),children:[(0,s.jsxs)("span",{children:["# ",e]}),(0,s.jsx)(P.Z,{size:16,className:"transition-transform duration-200 ".concat(l===e?"rotate-90":"")})]}),(0,s.jsx)("span",{className:"absolute -bottom-0 left-[1.125rem] h-px w-[calc(100%-2.25rem)] bg-gradient-to-r from-purple-400/0 via-purple-400/90 to-purple-400/0 transition-opacity duration-500 group-hover:opacity-40"})]},"".concat(e,"-").concat(r)))}),l&&(0,s.jsxs)("div",{className:"flex flex-wrap gap-2",children:[_[l].slice(0,c.has(l)?_[l].length:12).map((e,r)=>{let a=n.includes(e);return(0,s.jsx)("button",{onClick:()=>p(e),className:"px-1 rounded-md text-xs border\n                  ".concat(t?"opacity-50 cursor-not-allowed":"","\n                  ").concat(a?"text-purple-500":"bg-[#2C2C2E] text-[#E5E5E5] hover:bg-[#3C3C3E] border-[#3C3C3E]"),children:e},"".concat(e,"-").concat(r))}),_[l].length>12&&(0,s.jsx)("button",{onClick:()=>h(l),className:"px-2 py-0.5 rounded-md text-xs  bg-gradient-to-r from-purple-500/20 to-purple-700/20  border border-purple-500/50 text-purple-300 hover:from-purple-500/30 hover:to-purple-700/30  hover:border-purple-400/60 transition-colors flex items-center gap-1",children:c.has(l)?(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("span",{children:"Show Less"}),(0,s.jsx)("span",{className:"text-[10px]",children:"↑"})]}):(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("span",{children:"Show More"}),(0,s.jsx)("span",{className:"text-[10px]",children:"↓"})]})})]})]})}var T=r(52750),R=r(49600),D=r(90093);function I(e){let{version:t}=e,{user:r,fetchUserInfo:o}=(0,a.useContext)(g.S),{handleSetTaskTrigger:c}=(0,D.l)(),d=(0,T.useRouter)(),{openModal:u,musicMetadata:m}=(0,f.d)(),[p,h]=(0,a.useState)(""),[x,y]=(0,a.useState)(!1),[b,j]=(0,a.useState)(!1),[P,_]=(0,a.useState)(!0),[I,A]=(0,a.useState)(!1),[B,G]=(0,a.useState)("en"),[L,O]=(0,a.useState)(""),[F,q]=(0,a.useState)(""),[V,Z]=(0,a.useState)(!1),[J,U]=(0,a.useState)(""),[H,W]=(0,a.useState)(""),[K,Q]=(0,a.useState)(!1),[$,Y]=(0,a.useState)(""),[X,ee]=(0,a.useState)(!1);(0,a.useEffect)(()=>{(null==m?void 0:m.styles)&&h(m.styles),(null==m?void 0:m.lyrics)&&O(m.lyrics),(null==m?void 0:m.title)&&q(m.title)},[m]);let et=async()=>{if(!r){u("login");return}if(r.left_credits<v.A0){R.Am.warning("credits not enough"),d.push("/pricing");return}if(P){if(x&&p.length>120){R.Am.error("styles are required and do not exceed the 120 characters limit");return}if(!x){if(L.length<1||L.length>2998){R.Am.error("lyrics is required and must be between 1 and 3000 characters");return}if(p.length>120){R.Am.error("styles are required and do not exceed the 120 characters limit");return}if(F.length>78){R.Am.error("title is required and do not exceed the 78 characters limit");return}}}if(!P&&$.length>200){R.Am.error("description is required and do not exceed the 200 characters limit");return}A(!0);try{let e=await fetch("api/song",{method:"POST",body:JSON.stringify({lyrics_mode:P,instrumental:x,lyrics:L,description:$,title:F,styles:p,style_negative:H,type:P?"lyrics":"desc",model:"v1.0",user_id:r.id,user_email:r.email,is_private:b})});if(!e.ok){let t=await e.json();throw Error((null==t?void 0:t.error)||"Failed to generate music")}}catch(e){R.Am.error(null==e?void 0:e.message),A(!1);return}await new Promise(e=>setTimeout(e,1e3)),c(),o(),A(!1),R.Am.success("Music task created"),window.location.href="/myworks"},er=async()=>{Z(!0),Q(!1);try{let e=await fetch("https://lyrics-generator.tommy-ni1997.workers.dev",{method:"POST",headers:{accept:"application/json","content-type":"application/json"},body:JSON.stringify({prompt:J})});if(!e.ok)throw Error(e.statusText);let t=await e.json();O(null==t?void 0:t.lyrics),q(null==t?void 0:t.title),h(null==t?void 0:t.style),Z(!1);return}catch(e){console.error("Worker API error:",null==e?void 0:e.message)}try{let e=await fetch("/api/lyrics-generate",{method:"POST",body:JSON.stringify({prompt:J})});if(!e.ok)throw Error(e.statusText);let t=await e.json();O(t.lyrics),q(t.title),h(t.tags)}catch(e){console.error("Lyrics generation error:",e),O("Failed to generate lyrics. Please try again.")}finally{Z(!1)}},es=async()=>{ee(!0);let e=await fetch("/api/openai",{method:"POST",body:JSON.stringify({description:$})});Y((await e.json()).data),ee(!1)};return(0,s.jsxs)("div",{className:"bg-gradient-to-br from-gray-900 to-black text-white p-2",children:[(0,s.jsxs)("div",{className:"mx-auto space-y-4",children:[(0,s.jsx)("div",{className:"flex flex-col sm:flex-row sm:justify-between sm:items-center space-y-2",children:(0,s.jsxs)("div",{className:"flex justify-between w-full",children:[(0,s.jsx)("div",{className:"flex items-center gap-2",children:(0,s.jsx)(N,{instrumental:x,setInstrumental:y})}),(0,s.jsx)("div",{className:"flex items-center gap-2",children:(0,s.jsx)(S,{isPrivate:null!=r&&!!r.has_access||b,setIsPrivate:j})})]})}),(0,s.jsx)("div",{children:(0,s.jsxs)("div",{className:"w-full p-3 sm:p-4 border-pink-500 rounded-lg shadow-lg border",children:[(0,s.jsxs)("div",{className:"flex justify-between items-center mb-2",children:[(0,s.jsx)(w,{id:P?"lyrics":"description",display:P?"Write clear, expressive lyrics that convey your song's message":"Describe the song you want to generate.",trigger:P?"Lyrics":"Song Description"}),(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsx)(i.r,{id:"mode-switch",checked:P,onCheckedChange:e=>_(e),className:"border-1 border-white",style:{backgroundColor:P?"#4276ED":"#525B56"}}),(0,s.jsx)(l._,{htmlFor:"mode-switch",className:"text-xs sm:text-sm text-gray-300",children:P?"Lyrics Mode":"Description Mode"})]})]}),P?(0,s.jsx)(C,{lyrics:L,setLyrics:O,instrumental:x,isLyricsGenerating:V,setIsPromptInputDialogOpen:Q}):(0,s.jsx)(k,{description:$,setDescription:Y,isDescriptionGenerating:X,handleDescriptionGenerate:es})]})}),(0,s.jsxs)("div",{children:[(0,s.jsx)(w,{id:"title",display:"Choose a title that reflects your song's theme. Do not enter artist names or other sensitive content. Description Mode is not available.",trigger:"Title"}),(0,s.jsx)(n.I,{id:"title",placeholder:"Enter the song title",value:F,maxLength:100,onChange:e=>q(e.target.value),disabled:!P,className:"mt-1 text-xs w-full"}),(0,s.jsxs)("div",{className:"text-right text-xs text-gray-400 mt-1",children:[F.length," / 100"]})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)(w,{id:"styles",display:"Select music styles like Genre, Moods, Voices, etc. Do not include artist names or other inappropriate content.",trigger:"Styles"}),(0,s.jsx)(z,{disabled:!P,instrumental:x,styles:p,setStyles:h})]}),"v2.0"===t&&(0,s.jsxs)("div",{children:[(0,s.jsx)(w,{id:"style_negative",display:"Enter styles that you do not want to include in the song.",trigger:"Styles to Avoid (Optional)"}),(0,s.jsx)(n.I,{id:"style_negative",placeholder:"Enter styles that you do not want to include in the song.",value:H,maxLength:100,onChange:e=>W(e.target.value),disabled:!P,className:"mt-1 text-xs w-full"}),(0,s.jsxs)("div",{className:"text-right text-xs text-gray-400 mt-1",children:[H.length," / 100"]})]}),(0,s.jsx)(E,{isLoading:I,has_access:null==r?void 0:r.has_access,modal:"suno",onSubmit:et})]}),(0,s.jsx)(M,{isOpen:K,prompt:J,setPrompt:U,setIsOpen:Q,handleLyricsGenerate:er})]})}var A=r(9585),B=r(36446);function G(){let[e,t]=(0,a.useState)("v1.0"),[r,n]=(0,a.useState)(!1),{user:i}=(0,a.useContext)(g.S),{handleSetInfo:l,openModal:o}=(0,f.d)();return(0,a.useEffect)(()=>{if(null==i?void 0:i.has_access){let e=localStorage.getItem("aisg_version");"v1.0"===e||"v2.0"===e?t(e):t("v2.0")}},[i]),(0,s.jsxs)("div",{className:"w-full sm:max-w-xl md:max-w-2xl lg:max-w-4xl xl:max-w-5xl mx-auto p-2",children:[(0,s.jsx)("div",{className:"grid w-full grid-cols-1 p-1 bg-white bg-opacity-20 rounded-t-lg backdrop-blur-md",children:(0,s.jsxs)("div",{className:"p-2 text-center w-full rounded-md text-sm sm:text-base font-medium transition-all duration-300 relative text-white bg-gradient-to-r from-blue-500 to-purple-500",children:["AISongGenerator",(0,s.jsx)("span",{className:"text-yellow-500 font-extrabold",children:".io"})]})}),(0,s.jsx)(I,{version:"v2.0"}),(0,s.jsx)(L,{isOpen:r,onClose:()=>n(!1)})]})}function L(e){let{isOpen:t,onClose:r}=e,{openModal:a}=(0,f.d)(),n=(0,B.tv)();return(0,s.jsx)(o.Vq,{open:t,onOpenChange:r,children:(0,s.jsxs)(o.cZ,{className:"sm:max-w-[600px] bg-[#1C1C1C] border-zinc-800",children:[(0,s.jsx)(o.fK,{children:(0,s.jsx)(o.$N,{className:"text-xl text-white",children:"V1.0 vs V2.0 Comparison"})}),(0,s.jsxs)("div",{className:"grid grid-cols-3 gap-2 mt-4",children:[(0,s.jsx)("div",{className:"font-medium text-gray-300",children:"Version"}),(0,s.jsx)("div",{className:"font-medium text-blue-400",children:"V1.0"}),(0,s.jsxs)("div",{className:"font-medium text-purple-400",children:["V2.0 ",(0,s.jsx)(A.Z,{className:"h-3 w-3 text-yellow-400 inline ml-1"})]}),(0,s.jsx)("div",{className:"text-gray-300",children:"Music Quality"}),(0,s.jsx)("div",{children:"Standard"}),(0,s.jsx)("div",{className:"text-purple-300",children:"Enhanced"}),(0,s.jsx)("div",{className:"text-gray-300",children:"Generation Speed"}),(0,s.jsx)("div",{children:"Normal"}),(0,s.jsx)("div",{className:"text-purple-300",children:"Faster"}),(0,s.jsx)("div",{className:"text-gray-300",children:"Song Length"}),(0,s.jsx)("div",{children:"Up to 2 minutes"}),(0,s.jsx)("div",{className:"text-purple-300",children:"Up to 3 minutes"}),(0,s.jsx)("div",{className:"text-gray-300",children:"Section Editing"}),(0,s.jsx)("div",{children:"Basic"}),(0,s.jsx)("div",{className:"text-purple-300",children:"Advanced"}),(0,s.jsx)("div",{className:"text-gray-300",children:"Voice Quality"}),(0,s.jsx)("div",{children:"Good"}),(0,s.jsx)("div",{className:"text-purple-300",children:"Premium"}),(0,s.jsx)("div",{className:"text-gray-300",children:"Style Options"}),(0,s.jsx)("div",{children:"Limited"}),(0,s.jsx)("div",{className:"text-purple-300",children:"Expanded"})]}),(0,s.jsxs)(o.cN,{className:"mt-6",children:[(0,s.jsx)(c.z,{onClick:r,className:"mr-2",children:"Close"}),(0,s.jsx)(c.z,{onClick:()=>n.push("/pricing"),className:"bg-gradient-to-r from-purple-500 to-blue-500",children:"Upgrade"})]})]})})}},17981:function(e,t,r){r.d(t,{default:function(){return n}});var s=r(61462),a=r(53255);function n(){return(0,s.jsx)(a.Z,{})}},34481:function(e,t,r){r.d(t,{Zb:function(){return i},aY:function(){return l},eW:function(){return o}});var s=r(61462),a=r(70265),n=r(97711);let i=a.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,s.jsx)("div",{ref:t,className:(0,n.cn)("rounded-xl border border-slate-200 bg-white text-slate-950 shadow dark:border-slate-800 dark:bg-slate-950 dark:text-slate-50",r),...a})});i.displayName="Card",a.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,s.jsx)("div",{ref:t,className:(0,n.cn)("flex flex-col space-y-1.5 p-6",r),...a})}).displayName="CardHeader",a.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,s.jsx)("h3",{ref:t,className:(0,n.cn)("font-semibold leading-none tracking-tight",r),...a})}).displayName="CardTitle",a.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,s.jsx)("p",{ref:t,className:(0,n.cn)("text-sm text-slate-500 dark:text-slate-400",r),...a})}).displayName="CardDescription";let l=a.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,s.jsx)("div",{ref:t,className:(0,n.cn)("p-6 pt-0",r),...a})});l.displayName="CardContent";let o=a.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,s.jsx)("div",{ref:t,className:(0,n.cn)("flex items-center p-6 pt-0",r),...a})});o.displayName="CardFooter"},35201:function(e,t,r){r.d(t,{I:function(){return i}});var s=r(61462),a=r(70265),n=r(97711);let i=a.forwardRef((e,t)=>{let{className:r,type:a,...i}=e;return(0,s.jsx)("input",{type:a,className:(0,n.cn)("flex h-9 w-full rounded-md border border-slate-200 bg-transparent px-3 py-1 text-sm shadow-sm transition-colors file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-slate-500 focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-slate-950 disabled:cursor-not-allowed disabled:opacity-50 dark:border-slate-800 dark:placeholder:text-slate-400 dark:focus-visible:ring-slate-300",r),ref:t,...i})});i.displayName="Input"},54667:function(e,t,r){r.d(t,{_:function(){return c}});var s=r(61462),a=r(70265),n=r(35658),i=r(99649),l=r(97711);let o=(0,i.j)("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),c=a.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,s.jsx)(n.f,{ref:t,className:(0,l.cn)(o(),r),...a})});c.displayName=n.f.displayName},72517:function(e,t,r){r.d(t,{r:function(){return l}});var s=r(61462),a=r(70265),n=r(35750),i=r(97711);let l=a.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,s.jsx)(n.fC,{className:(0,i.cn)("peer inline-flex h-5 w-9 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent shadow-sm transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-slate-950 focus-visible:ring-offset-2 focus-visible:ring-offset-white disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-slate-900 data-[state=unchecked]:bg-slate-200 dark:focus-visible:ring-slate-300 dark:focus-visible:ring-offset-slate-950 dark:data-[state=checked]:bg-slate-50 dark:data-[state=unchecked]:bg-slate-800",r),...a,ref:t,children:(0,s.jsx)(n.bU,{className:(0,i.cn)("pointer-events-none block h-4 w-4 rounded-full bg-white shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-4 data-[state=unchecked]:translate-x-0 dark:bg-slate-950")})})});l.displayName=n.fC.displayName},41443:function(e,t,r){r.d(t,{g:function(){return i}});var s=r(61462),a=r(70265),n=r(97711);let i=a.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,s.jsx)("textarea",{className:(0,n.cn)("flex min-h-[60px] w-full rounded-md border border-slate-200 bg-transparent px-3 py-2 text-sm shadow-sm placeholder:text-slate-500 focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-slate-950 disabled:cursor-not-allowed disabled:opacity-50 dark:border-slate-800 dark:placeholder:text-slate-400 dark:focus-visible:ring-slate-300",r),ref:t,...a})});i.displayName="Textarea"},90093:function(e,t,r){r.d(t,{MusicListProvider:function(){return c},l:function(){return d}});var s=r(61462),a=r(70265),n=r(88362),i=r(22370),l=r(93597);let o=(0,a.createContext)(void 0);function c(e){let{children:t}=e,r=(0,n.createClientComponentClient)(),[c,d]=(0,a.useState)(new Map),[u,m]=(0,a.useState)([]),[p,h]=(0,a.useState)([]),[x,g]=(0,a.useState)([]),[f,v]=(0,a.useState)([]),[y,b]=(0,a.useState)(1),[j,w]=(0,a.useState)(1),[N,S]=(0,a.useState)(!1),[k,C]=(0,a.useState)(0),[E,M]=(0,a.useState)(null),[P,_]=(0,a.useState)(new Map),{user:z}=(0,a.useContext)(l.S);return(0,a.useEffect)(()=>{r&&z&&(async()=>{w(await (0,i.gc)(r,z.id))})()},[z]),(0,a.useEffect)(()=>{v(c.get(y)||[])},[c,y]),(0,s.jsx)(o.Provider,{value:{pollingMusicIds:P,isLoading:N,musicsList:c,runningMusics:u,favoriteMusics:p,failedMusics:x,currentPage:y,totalPages:j,taskTrigger:k,currentMusicList:f,selectedMusic:E,handleSetPollingMusicIds:(e,t)=>{_(r=>{let s=new Map(r);return!1===t?s.delete(e):s.set(e,t),s})},handleSetIsLoading:e=>{S(e)},handleSetMusicsList:(e,t)=>{d(r=>{let s=new Map(r);return s.set(e,t),s})},handleSetCurrentPage:e=>{e<1||e>j||b(e)},handleSetRunningMusics:e=>{m(e)},handleSetFavoriteMusics:e=>{h(e)},handleSetFailedMusics:e=>{g(e)},handleSetTaskTrigger:()=>{C(e=>e+1)},appendNewMusic:e=>{d(t=>{let r=new Map(t),s=r.get(1)||[];return s.some(t=>t.music_id===e.music_id)||r.set(1,[e,...s]),r})},handleSetSelectedMusic:e=>{M(e)}},children:t})}let d=()=>{let e=(0,a.useContext)(o);if(void 0===e)throw Error("useMusicListContext must be used within a MusicListProvider");return e}},35160:function(e,t,r){r.d(t,{MusicPlayerProvider:function(){return i},c:function(){return l}});var s=r(61462),a=r(70265);let n=(0,a.createContext)(void 0),i=e=>{let{children:t}=e,[r,i]=(0,a.useState)(!1),[l,o]=(0,a.useState)(!1),[c,d]=(0,a.useState)(0),[u,m]=(0,a.useState)(0),[p,h]=(0,a.useState)(1),[x,g]=(0,a.useState)(null),[f,v]=(0,a.useState)(null),[y,b]=(0,a.useState)(!1),j=(0,a.useRef)(null),[w,N]=(0,a.useState)({}),S=(0,a.useCallback)(e=>{i(!0),v(e),b(!0),o(!0)},[]),k=(0,a.useCallback)(()=>{o(!1)},[]),C=(0,a.useCallback)(()=>{o(!1),d(0),v(null)},[]),E=(0,a.useCallback)(e=>{d(e),j.current&&(j.current.currentTime=e)},[]),M=(0,a.useCallback)(()=>{l?k():f&&o(!0)},[l,f,k]),P=(0,a.useCallback)(()=>{b(!1),C()},[C]);return(0,a.useEffect)(()=>{j.current&&(l?j.current.play().catch(e=>{console.log("Playback failed:",e),o(!1),i(!1)}):j.current.pause())},[l,f]),(0,a.useEffect)(()=>{j.current&&(j.current.volume=p)},[p]),(0,s.jsxs)(n.Provider,{value:{isLoading:r,isPlaying:l,isVisible:y,currentTime:c,duration:u,volume:p,audioUrl:f,playingMusic:x,alignedLyrics:w,handleSetAlignedLyrics:(e,t)=>{N(r=>({...r,[e]:t}))},playAudio:S,pauseAudio:k,stopAudio:C,setVolume:h,seekTo:E,togglePlay:M,hidePlayer:P,handleSetPlayingMusic:e=>{g(e),S(e.audio)}},children:[t,(0,s.jsx)("audio",{ref:j,src:f||"",onTimeUpdate:()=>{var e;return d((null===(e=j.current)||void 0===e?void 0:e.currentTime)||0)},onDurationChange:()=>{var e;return m((null===(e=j.current)||void 0===e?void 0:e.duration)||0)},onEnded:k,onCanPlay:()=>i(!1),onPlaying:()=>i(!1),onLoadStart:()=>i(!0),onWaiting:()=>i(!0),onError:()=>{i(!1),o(!1)},onStalled:()=>i(!1)})]})},l=()=>{let e=(0,a.useContext)(n);if(void 0===e)throw Error("useMusicPlayer must be used within a MusicPlayerProvider");return e}},22370:function(e,t,r){r.d(t,{DC:function(){return d},J$:function(){return c},Lt:function(){return u},RC:function(){return a},St:function(){return o},_B:function(){return i},dZ:function(){return n},gc:function(){return h},iN:function(){return m},je:function(){return l},wH:function(){return p}});var s=r(95180);async function a(e,t){let r=t.map(e=>{let{music_id:t,...r}=e;return{music_id:t,...r}}),{data:s,error:a}=await e.from("music").upsert(r,{onConflict:"music_id"}).select();if(a)throw console.error("Error updating music:",a),Error("Error getting music: ",a);return s}async function n(e,t){let{data:r,error:s}=await e.from("music").select("*").eq("music_id",t).single();if(s)throw console.error("Error getting music data:",s),Error("Error getting music data: ",s);return r}async function i(e,t){let{data:r,error:s}=await e.from("music").delete().eq("music_id",t);if(s)throw console.error("Error deleting music:",s),Error("Error deleting music: ",s)}async function l(e,t,r){let{data:s,error:a}=await e.from("music").update({is_private:r}).eq("music_id",t).select();if(a)throw console.error("Error updating music private:",a),Error("Error updating music private: ".concat(a.message));return s}async function o(e,t,r){let{data:s,error:a}=await e.from("music").update({is_like:r}).eq("music_id",t).select();if(a)throw console.error("Error updating music favorite status:",a),Error("Error updating music favorite status: ".concat(a.message));return s}async function c(e){let{data:t,error:r}=await e.from("music").select("*").eq("status",4).eq("is_private",!1).order("created_at",{ascending:!1}).limit(100);if(r)throw console.error("Error getting display music:",r),Error("Error getting display music: ",r);return t}async function d(e,t){let{data:r,error:a}=await e.from("music").select("*").eq("user_id",t).or("status.eq.".concat(s.hU.GENERATING,",status.eq.").concat(s.hU.COVER_TITLE)).order("created_at",{ascending:!1});if(a)throw console.error("Error getting running music:",a),Error("Error getting running music: ",a);return r}async function u(e,t){let{data:r,error:s}=await e.from("music").select("*").eq("user_id",t).eq("is_like",!0).order("created_at",{ascending:!1});if(s)throw console.error("Error getting favorite music:",s),Error("Error getting favorite music: ",s);return r}async function m(e,t){let{data:r,error:a}=await e.from("music").select("*").eq("user_id",t).eq("status",s.hU.FAILED).order("created_at",{ascending:!1});if(a)throw console.error("Error getting failed music:",a),Error("Error getting failed music: ",a);return r}async function p(e,t,r){let{data:a,error:n}=await e.from("music").select("*").eq("user_id",t).eq("status",s.hU.SECOND_AUDIO).order("created_at",{ascending:!1}).range((r-1)*s.IV,r*s.IV-1);if(n)throw console.error("Error getting page music:",n),Error("Error getting page music: ",n);return a}async function h(e,t){let{count:r,error:a}=await e.from("music").select("*",{count:"exact",head:!0}).eq("user_id",t).eq("status",s.hU.SECOND_AUDIO);if(a)throw console.error("Error getting total rows:",a),Error("Error getting total rows: ",a);return Math.ceil(r/s.IV)}}}]);